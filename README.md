# SX-API

![SX](https://img.shields.io/badge/compatible-SX-orange.svg) ![CXM](https://img.shields.io/badge/compatible-CXM-a00d59.svg) ![Version](https://img.shields.io/badge/compatible-APIv3-green.svg) ![License](https://img.shields.io/hexpm/l/plug.svg)

SX/CXM API wrapper in Java.
This Java library implements the complete functionality of the SX and CXM API.
More informations about our products on https://www.everwin.fr.

*Automatically generated by the [OpenAPI Generator](https://openapi-generator.tech)*

## Requirements

Building the API client library requires:

1. Java 21+
2. Maven

## Versions
SX-API client versions 1.x compatible with SX version <= 25.0 and API version v2 is not maintained anymore.

Use SX-API client versions 25+ to get compatibility with latest API version v3 available since SX Version 25.1.

SX-API client versions follow SX versions

Ex: sx-api-client 25.1.x compatible with sx version 25.1+  

## Installation

Jar files are available from Maven Central. To use sx-api-client you have to include it in your project dependencies :

### Maven users

Add this dependency to your project's POM:

```xml

<dependency>
    <groupId>fr.everwin.sx.client</groupId>
    <artifactId>sx-api-client</artifactId>
    <version>25.1.0</version>
</dependency>
```
### Gradle users

Add this dependency to your project's build file:

```groovy
  repositories {
    mavenCentral()     // Needed if the 'openapi-java-client' jar has been published to maven central.
    mavenLocal()       // Needed if the 'openapi-java-client' jar has been published to the local maven repo.
  }

  dependencies {
     implementation "fr.everwin.sx.client:sx-api-client:25.1.0"
  }
```

## Authentication
The SX API wrapper supports authentication using either OAuth or an API key.

### Authentication with API key
The API key can be found in your SX application in the administration console.
Then you can use the API key with an instance of the ClientApi class :
```java
// Create the API client with the main uri and the version of the API
ApiClient clientApi = new ApiClient();
// Set url of openapi service version
clientApi.setBasePath("http://example.com/sx/rest/v3");
// Set the client key        
clientApi.setApiKey("your api key");
```

### Authentication with OAuth
To authenticate throught OAuth, you have to create OAuth informations in your SX application in the
administration console. Then with the generated clientId and the clientSecret you can access to the API :
```java
// Create the API client with the main uri and the version of the API
ApiClient clientApi = new ApiClient();
// Set url of openapi service version
clientApi.setBasePath("http://example.com/sx/rest/v3");
// Set the oauth informations
clientApi.setOauthCredentials("your client id", "your client secret");
```

## Examples

### Init companies api service
```java
CompaniesApi companiesApi = new CompaniesApi(clientApi);
```

### Create company
To create a new company
```java
Company company = new Company()
        .code("New Company")
        .status(new StatusDataLink().id(963L));
companiesApi.create(company);
// OR WithHttpInfo toGet Http Response
ApiResponse<Void> apiResponse = companiesApi.createWithHttpInfo(company);
```

### Update company
To update en existing company :
```java
company.code("New Code");
companiesApi.update(company.getId(), company);
// OR WithHttpInfo toGet Http Response
ApiResponse<Void> apiResponse = companiesApi.updateWithHttpInfo(company.getId(), company);
```

### Query companies
To filter a collections of objects, you have to use a RequestParams object which can make sort, filter, multipage query.

```java
List<Company> companies = null;
try {
    String filter = "visibility==0";
    String sort = null;
    Integer offset = 0;
    Integer limit = 10;
    String fields = null;
    CompanyList list = companiesApi.query(filter, sort, offset, limit, fields);
    List<Company> companies = list.getCompanies();
} catch(Exception e) {
    e.printStackTrace(System.err);
}
```

### Get comments collection
To load a collection of comments linked to an object, call queryComments() method on the object service. Create / update and delete methods are available too :
```java
try {
    // Instanciate comment
    Comment comment = new Comment();
    comment.setMode(1);
    comment.setText("Text");

    // Add the comment to the company
    companiesApi.createComment(company.getId(), comment);

    // Get comments of the company
    CommentList commentList = companiesApi.getComments(company.getId(), null, null, null, null, null);
} catch (Exception e) {
    e.printStackTrace(System.err);
}
```